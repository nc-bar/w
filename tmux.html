<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="Description" content="Personal website">
	<meta name="author" content="Nicolas Barbeito">
	<title>ncb.ar</title>
	<style>
		body {
			margin-left: 2em;
			margin-right: 2em;
		}
	</style>
</head>

<body>
<body>

<h3>tmux</h3>

<p>
client-server system to multiplex terminals.
client manages the display of terminals and
server receives keystrokes from the clients.
</p>

<p>
panes are rectangular subsections within the terminal.
the terminal and panes are related 1-to-1.
the active pane is the one input from the user.
a window is divided into one or more panes;
a window spans an entire terminal.
the user can choose one pane (terminal) to be the active one,
as well as create, resize and delete them.
every window has a name, and an index within a session;
if a name is not set by the user the new window will have a default name.
the user can choose the active window in the session.
the client always displays the active window.
</p>

<p>
a session has a set of windows and is attached to a client.
several sessions can connect to the server and
windows can be assotiated with multiple sessions
(that is, windows are not necesarilly exclusive to a session).
the session can be detached from a client and
later be attached again to the same or other clients.
</p>

<ul>
	<li><code>tmux</code> launches the server 
		and creates a client with a session attached, a window and a pan</li>

	<li><code>kill-session -t session_name</code> kills session 
		named <code>session_name</code> </li>

	<li><code>kill-session -a</code> kills all sessions except the current</li>

	<li><code>kill-session -a -t session</code>  kills all sessions
		except session</li>

	<li><code>ls</code> lists all the sessions</li>

	<li><code>new -s session -n window</code> creates a new session 
		of name session and a window with name window</li>

	<li><code>info</code> displays information about
		sessions, windows, panes, etc.</li>
</ul>

<p>each client shows a status line on the bottom line of the screen:</p>

<p>
<code>[0] 0:ash- 1:ash 2:nano*      "localhost" 02:17 28-Feb-22</code>
</p>

<p>
the <code>[N]</code> at the left contains the session number;
it's followed by a list of the windows in the session 
using the format<code> index:name</code>;
a <code>*</code> marks the active windows.
</p>

<p>
<code>tmux</code> clients have a set of predefined functions.
users can use them in the command prompt or key bindings.
the command prompt appears in the bottom line of the active window,
temporarily in place of the status bar,
when activated by <code>ctrl-b :</code>.
to call a function, its name is typed into the prompt
along with its arguments and then pressing enter.
the status bar returns after the function ends.
</p>

<p>
each function can be invoked by a keybinding,
of the form <code>ctrl-b s</code> where <code>ctrl-b</code>
means pressing the control key and b, releasing them at the same time,
and <code>s</code> is a string of characters
(for example <code>ctrl-b c</code>).
</p>

<p>
some functions take some arguments from the command promp;
when calling them through a key binding,
the bottom line changes to the promp temporarily.
</p>

<p>
key bindings are prefixed by <code>ctrl-b</code> by default.
the commands starting with <code>:</code> are used in the command prompt.
</p>

<ul>
	<li><code>?</code> list key bindings
	<li><code>:list-keys</code> list key bindings
	<li><code>(</code> move to previous session
	<li><code>)</code> move to next session
	<li><code>:kill-server</code>  kill tmux server
	<li> <code>c</code> create window</li>
	<li> <code>, </code>rename current window</li>
	<li> <code>& </code>close current window</li>
	<li> <code>p </code>previous window</li>
	<li> <code>n </code>next window</li>
	<li> <code>0...9</code> selects window of index <code>0...9</code></li>
	<li> <code>l </code>toogle last active window</li>
	<li> <code>:swap-window -s src -t dst</code> swaps windows 
		of index <code>src</code> and <code>dst</code></li>
	<li> <code>:swap-window -t -1</code> moves current window
		to the left by one position</li>
	<li> <code>; </code>toogle last active pane</li>
	<li> <code>% </code>split pane vartically</li>
	<li> <code>" </code>split pane horizontaly</li>
	<li> <code>{ </code>move current pane left</li>
	<li> <code>} </code>move current pane right</li>
	<li> <code>horizontal-arrow-key</code>
		switch pane in the arrow direction</li>
	<li> <code>spacebar</code> toogle pane layouts</li>
	<li> <code>o </code>switch to next pane</li>
	<li> <code>q </code>show pane numbers</li>
	<li> <code>q 0...9</code> select pane by number</li>
	<li> <code>z </code>zoom in or out a pane</li>
	<li> <code>! </code>convert current pane into a window</li>
	<li> <code>ctrl-b-arrow</code> change pane dimentions
		according to arrow direction</li>
	<li> <code>x </code>close current pane</li>
</ul>

<p>
tmux has a copy mode which, among other things,
can copy and scroll old text not shown in the terminal anymore.
copy mode can be entered, if configured properly, by scrolling with the mouse.
there's also a keybinding: <code>cntrl-b [</code> enters copy mode.
</p>

<p>
tmux provides a hierarchical view of sessions, windows and panes.
it's called tree mode and it displays a tree-like view of sessions,
windows and panes. using the up and down arrow keys to select an element
and the right and left arrow to expand or collapse it:
sessions into windows and windows into panes.
a window can be set as currentby pressing enter.
</p>

<ul>
	<li><code>s</code> enter tree mode without expanding session
	<li><code>t</code> enter tree mode with expanded sessions and windows
</ul>

pessing <code>esc</code> exits any mode (tree, copy, etc).

tmux reads the configuration file <code>~/.tmux.conf</code>
when the server starts.
t contains a list of commands to be executed in order.
a running server can execute another configuration file by:

<p><code>:source file</code></p> execute tmux comands in the file

<h4>other commands</h4>
<ul>
	<li>to copy from the system's clipboard
		press Shift and the middle mouse button</li>
	<li>to copy a buffer from tmux to the outside environment
		press Shift while dragging with the mouse.</li>
</ul>

<h4>references:<h4>

<ul>
	<li><a href="https://github.com/tmux/tmux/wiki/Getting-Started">https://github.com/tmux/tmux/wiki/Getting-Started</a></li>
	<li><a href="https://tmuxcheatsheet.com">https://tmuxcheatsheet.com</a></li>
	<li><a href="https://mutelight.org/practical-tmux">https://mutelight.org/practical-tmux</a></li>
</ul>

</body>
</html>
